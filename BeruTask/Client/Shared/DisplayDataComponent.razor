@using BeruTask.Client.Services.Interfaces
@using BeruTask.Shared
<h3>DisplayDataComponent</h3>
@if (goldPrice != null)
{
    
}

@code {
    private GoldPriceDto? goldPrice;
    [Inject]
    private IGoldPriceService _goldPriceService { get; set; }

    protected override void OnInitialized()
    {
        _goldPriceService.OnGetData += new Action<GoldPriceDto>(this.handleData);
    }

    public void Dispose() {
        _goldPriceService.OnGetData -= new Action<GoldPriceDto>(this.handleData);
    }

    private void handleData(GoldPriceDto dto)
    {
      this.goldPrice = dto == null ?  null : dto;
      this.StateHasChanged();
    }
  }
}
